import{E as Y,G as D,r as o,H as ue,J as H,K as J,M as pe,N as De,O as q,Q as R,V as me,W as Se,Y as Le,_ as fe,$ as ve,a0 as G,a1 as Z,a2 as We,a3 as _e,a4 as he,a5 as Q,a6 as ee,a7 as ye,a8 as Ke,a9 as xe,aa as ae,ab as Re,ac as Te,ad as $e,ae as be,af as ge,ag as Me,ah as ze,ai as Ge,aj as Ue,ak as je,al as Be,am as Fe,an as Ve,ao as Xe,ap as Ye,aq as He,ar as Je,as as te,at as re,au as qe,av as Ze,aw as Qe,ax as _,ay as ea,az as aa,aA as ta,aB as ra,aC as U,aD as $,aE as na,aF as ia,aG as la,U as sa,i as oa,aH as ca,D as da,j as i,R as ua,p as pa,aI as ne,aJ as ma,l as fa,a as va,aK as ha,aL as ya,aM as xa,e as ba,aN as ie}from"./index-DP97coqU.js";function V(){return V=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(a[r]=t[r])}return a},V.apply(null,arguments)}var Pe=a=>{var{cx:e,cy:t,r,className:n}=a,s=Y("recharts-dot",n);return D(e)&&D(t)&&D(r)?o.createElement("circle",V({},H(a),ue(a),{className:s,cx:e,cy:t,r})):null},ga=["points"];function le(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),t.push.apply(t,r)}return t}function B(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?le(Object(t),!0).forEach(function(r){ja(a,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):le(Object(t)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(t,r))})}return a}function ja(a,e,t){return(e=Pa(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function Pa(a){var e=Aa(a,"string");return typeof e=="symbol"?e:e+""}function Aa(a,e){if(typeof a!="object"||!a)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var r=t.call(a,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function M(){return M=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(a[r]=t[r])}return a},M.apply(null,arguments)}function Na(a,e){if(a==null)return{};var t,r,n=wa(a,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(a,t)&&(n[t]=a[t])}return n}function wa(a,e){if(a==null)return{};var t={};for(var r in a)if({}.hasOwnProperty.call(a,r)){if(e.indexOf(r)!==-1)continue;t[r]=a[r]}return t}function Ea(a){var{option:e,dotProps:t,className:r}=a;if(o.isValidElement(e))return o.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Y(r,typeof e!="boolean"?e.className:""),s=t??{},{points:c}=s,l=Na(s,ga);return o.createElement(Pe,M({},l,{className:n}))}function Ia(a,e){return a==null?!1:e?!0:a.length===1}function Oa(a){var{points:e,dot:t,className:r,dotClassName:n,dataKey:s,baseProps:c,needClip:l,clipPathId:u,zIndex:d=J.scatter}=a;if(!Ia(e,t))return null;var p=pe(t),m=De(t),y=e.map((h,P)=>{var x,w,E=B(B(B({r:3},c),m),{},{index:P,cx:(x=h.x)!==null&&x!==void 0?x:void 0,cy:(w=h.y)!==null&&w!==void 0?w:void 0,dataKey:s,value:h.value,payload:h.payload,points:e});return o.createElement(Ea,{key:"dot-".concat(P),option:t,dotProps:E,className:n})}),v={};return l&&u!=null&&(v.clipPath="url(#clipPath-".concat(p?"":"dots-").concat(u,")")),o.createElement(q,{zIndex:d},o.createElement(R,M({className:r},v),y))}function se(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),t.push.apply(t,r)}return t}function F(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?se(Object(t),!0).forEach(function(r){Ca(a,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):se(Object(t)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(t,r))})}return a}function Ca(a,e,t){return(e=ka(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function ka(a){var e=Da(a,"string");return typeof e=="symbol"?e:e+""}function Da(a,e){if(typeof a!="object"||!a)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var r=t.call(a,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}var Sa=a=>{var{point:e,childIndex:t,mainColor:r,activeDot:n,dataKey:s,clipPath:c}=a;if(n===!1||e.x==null||e.y==null)return null;var l={index:t,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=F(F(F({},l),ve(n)),ue(n)),d;return o.isValidElement(n)?d=o.cloneElement(n,u):typeof n=="function"?d=n(u):d=o.createElement(Pe,u),o.createElement(R,{className:"recharts-active-dot",clipPath:c},d)};function oe(a){var{points:e,mainColor:t,activeDot:r,itemDataKey:n,clipPath:s,zIndex:c=J.activeDot}=a,l=me(Se),u=Le();if(e==null||u==null)return null;var d=e.find(p=>u.includes(p.payload));return fe(d)?null:o.createElement(q,{zIndex:c},o.createElement(Sa,{point:d,childIndex:Number(l),mainColor:t,dataKey:n,activeDot:r,clipPath:s}))}function La(a){var e=ve(a),t=3,r=2;if(e!=null){var{r:n,strokeWidth:s}=e,c=Number(n),l=Number(s);return(Number.isNaN(c)||c<0)&&(c=t),(Number.isNaN(l)||l<0)&&(l=r),{r:c,strokeWidth:l}}return{r:t,strokeWidth:r}}var Ae=(a,e,t)=>he(a,"xAxis",Q(a,e),t),Ne=(a,e,t)=>ye(a,"xAxis",Q(a,e),t),we=(a,e,t)=>he(a,"yAxis",ee(a,e),t),Ee=(a,e,t)=>ye(a,"yAxis",ee(a,e),t),Wa=G([Z,Ae,we,Ne,Ee],(a,e,t,r,n)=>xe(a,"xAxis")?ae(e,r,!1):ae(t,n,!1)),_a=(a,e)=>e,Ie=G([Re,_a],(a,e)=>a.filter(t=>t.type==="area").find(t=>t.id===e)),Oe=a=>{var e=Z(a),t=xe(e,"xAxis");return t?"yAxis":"xAxis"},Ka=(a,e)=>{var t=Oe(a);return t==="yAxis"?ee(a,e):Q(a,e)},Ra=(a,e,t)=>Te(a,Oe(a),Ka(a,e),t),Ta=G([Ie,Ra],(a,e)=>{var t;if(!(a==null||e==null)){var{stackId:r}=a,n=Ke(a);if(!(r==null||n==null)){var s=(t=e[r])===null||t===void 0?void 0:t.stackedData,c=s?.find(l=>l.key===n);if(c!=null)return c.map(l=>[l[0],l[1]])}}}),$a=G([Z,Ae,we,Ne,Ee,Ta,We,Wa,Ie,_e],(a,e,t,r,n,s,c,l,u,d)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:y}=c;if(!(u==null||a!=="horizontal"&&a!=="vertical"||e==null||t==null||r==null||n==null||r.length===0||n.length===0||l==null)){var{data:v}=u,h;if(v&&v.length>0?h=v:h=p?.slice(m,y+1),h!=null)return nt({layout:a,xAxis:e,yAxis:t,xAxisTicks:r,yAxisTicks:n,dataStartIndex:m,areaSettings:u,stackedData:s,displayedData:h,chartBaseValue:d,bandSize:l})}}),Ma=["id"],za=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function W(){return W=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(a[r]=t[r])}return a},W.apply(null,arguments)}function Ce(a,e){if(a==null)return{};var t,r,n=Ga(a,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(a,t)&&(n[t]=a[t])}return n}function Ga(a,e){if(a==null)return{};var t={};for(var r in a)if({}.hasOwnProperty.call(a,r)){if(e.indexOf(r)!==-1)continue;t[r]=a[r]}return t}function ce(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(a,n).enumerable})),t.push.apply(t,r)}return t}function K(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ce(Object(t),!0).forEach(function(r){Ua(a,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):ce(Object(t)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(t,r))})}return a}function Ua(a,e,t){return(e=Ba(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function Ba(a){var e=Fa(a,"string");return typeof e=="symbol"?e:e+""}function Fa(a,e){if(typeof a!="object"||!a)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var r=t.call(a,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function z(a,e){return a&&a!=="none"?a:e}var Va=a=>{var{dataKey:e,name:t,stroke:r,fill:n,legendType:s,hide:c}=a;return[{inactive:c,dataKey:e,type:s,color:z(r,n),value:je(t,e),payload:a}]},Xa=o.memo(a=>{var{dataKey:e,data:t,stroke:r,strokeWidth:n,fill:s,name:c,hide:l,unit:u,tooltipType:d,id:p}=a,m={dataDefinedOnItem:t,getPosition:Fe,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:e,nameKey:void 0,name:je(c,e),hide:l,type:d,color:z(r,s),unit:u,graphicalItemId:p}};return o.createElement(Be,{tooltipEntrySettings:m})});function Ya(a){var{clipPathId:e,points:t,props:r}=a,{needClip:n,dot:s,dataKey:c}=r,l=H(r);return o.createElement(Oa,{points:t,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:l,needClip:n,clipPathId:e})}function Ha(a){var{showLabels:e,children:t,points:r}=a,n=r.map(s=>{var c,l,u={x:(c=s.x)!==null&&c!==void 0?c:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return K(K({},u),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return o.createElement(ta,{value:e?n:void 0},t)}function de(a){var{points:e,baseLine:t,needClip:r,clipPathId:n,props:s}=a,{layout:c,type:l,stroke:u,connectNulls:d,isRange:p}=s,{id:m}=s,y=Ce(s,Ma),v=H(y),h=ra(y);return o.createElement(o.Fragment,null,e?.length>1&&o.createElement(R,{clipPath:r?"url(#clipPath-".concat(n,")"):void 0},o.createElement(U,W({},h,{id:m,points:e,connectNulls:d,type:l,baseLine:t,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&o.createElement(U,W({},v,{className:"recharts-area-curve",layout:c,type:l,connectNulls:d,fill:"none",points:e})),u!=="none"&&p&&o.createElement(U,W({},v,{className:"recharts-area-curve",layout:c,type:l,connectNulls:d,fill:"none",points:t}))),o.createElement(Ya,{points:e,props:y,clipPathId:n}))}function Ja(a){var e,t,{alpha:r,baseLine:n,points:s,strokeWidth:c}=a,l=(e=s[0])===null||e===void 0?void 0:e.y,u=(t=s[s.length-1])===null||t===void 0?void 0:t.y;if(!$(l)||!$(u))return null;var d=r*Math.abs(l-u),p=Math.max(...s.map(m=>m.x||0));return D(n)?p=Math.max(n,p):n&&Array.isArray(n)&&n.length&&(p=Math.max(...n.map(m=>m.x||0),p)),D(p)?o.createElement("rect",{x:0,y:l<u?l:l-d,width:p+(c?parseInt("".concat(c),10):1),height:Math.floor(d)}):null}function qa(a){var e,t,{alpha:r,baseLine:n,points:s,strokeWidth:c}=a,l=(e=s[0])===null||e===void 0?void 0:e.x,u=(t=s[s.length-1])===null||t===void 0?void 0:t.x;if(!$(l)||!$(u))return null;var d=r*Math.abs(l-u),p=Math.max(...s.map(m=>m.y||0));return D(n)?p=Math.max(n,p):n&&Array.isArray(n)&&n.length&&(p=Math.max(...n.map(m=>m.y||0),p)),D(p)?o.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(p+(c?parseInt("".concat(c),10):1))}):null}function Za(a){var{alpha:e,layout:t,points:r,baseLine:n,strokeWidth:s}=a;return t==="vertical"?o.createElement(Ja,{alpha:e,points:r,baseLine:n,strokeWidth:s}):o.createElement(qa,{alpha:e,points:r,baseLine:n,strokeWidth:s})}function Qa(a){var{needClip:e,clipPathId:t,props:r,previousPointsRef:n,previousBaselineRef:s}=a,{points:c,baseLine:l,isAnimationActive:u,animationBegin:d,animationDuration:p,animationEasing:m,onAnimationStart:y,onAnimationEnd:v}=r,h=o.useMemo(()=>({points:c,baseLine:l}),[c,l]),P=qe(h,"recharts-area-"),x=Ze(),[w,E]=o.useState(!1),I=!w,f=o.useCallback(()=>{typeof v=="function"&&v(),E(!1)},[v]),A=o.useCallback(()=>{typeof y=="function"&&y(),E(!0)},[y]);if(x==null)return null;var b=n.current,j=s.current;return o.createElement(Ha,{showLabels:I,points:c},r.children,o.createElement(Qe,{animationId:P,begin:d,duration:p,isActive:u,easing:m,onAnimationEnd:f,onAnimationStart:A,key:P},g=>{if(b){var O=b.length/c.length,S=g===1?c:c.map((N,k)=>{var L=Math.floor(k*O);if(b[L]){var T=b[L];return K(K({},N),{},{x:_(T.x,N.x,g),y:_(T.y,N.y,g)})}return N}),C;return D(l)?C=_(j,l,g):fe(l)||ea(l)?C=_(j,0,g):C=l.map((N,k)=>{var L=Math.floor(k*O);if(Array.isArray(j)&&j[L]){var T=j[L];return K(K({},N),{},{x:_(T.x,N.x,g),y:_(T.y,N.y,g)})}return N}),g>0&&(n.current=S,s.current=C),o.createElement(de,{points:S,baseLine:C,needClip:e,clipPathId:t,props:r})}return g>0&&(n.current=c,s.current=l),o.createElement(R,null,u&&o.createElement("defs",null,o.createElement("clipPath",{id:"animationClipPath-".concat(t)},o.createElement(Za,{alpha:g,points:c,baseLine:l,layout:x,strokeWidth:r.strokeWidth}))),o.createElement(R,{clipPath:"url(#animationClipPath-".concat(t,")")},o.createElement(de,{points:c,baseLine:l,needClip:e,clipPathId:t,props:r})))}),o.createElement(aa,{label:r.label}))}function et(a){var{needClip:e,clipPathId:t,props:r}=a,n=o.useRef(null),s=o.useRef();return o.createElement(Qa,{needClip:e,clipPathId:t,props:r,previousPointsRef:n,previousBaselineRef:s})}class at extends o.PureComponent{render(){var{hide:e,dot:t,points:r,className:n,top:s,left:c,needClip:l,xAxisId:u,yAxisId:d,width:p,height:m,id:y,baseLine:v,zIndex:h}=this.props;if(e)return null;var P=Y("recharts-area",n),x=y,{r:w,strokeWidth:E}=La(t),I=pe(t),f=w*2+E,A=l?"url(#clipPath-".concat(I?"":"dots-").concat(x,")"):void 0;return o.createElement(q,{zIndex:h},o.createElement(R,{className:P},l&&o.createElement("defs",null,o.createElement(Je,{clipPathId:x,xAxisId:u,yAxisId:d}),!I&&o.createElement("clipPath",{id:"clipPath-dots-".concat(x)},o.createElement("rect",{x:c-f/2,y:s-f/2,width:p+f,height:m+f}))),o.createElement(et,{needClip:l,clipPathId:x,props:this.props})),o.createElement(oe,{points:r,mainColor:z(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:A}),this.props.isRange&&Array.isArray(v)&&o.createElement(oe,{points:v,mainColor:z(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:A}))}}var ke={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:J.area};function tt(a){var e,t=be(a,ke),{activeDot:r,animationBegin:n,animationDuration:s,animationEasing:c,connectNulls:l,dot:u,fill:d,fillOpacity:p,hide:m,isAnimationActive:y,legendType:v,stroke:h,xAxisId:P,yAxisId:x}=t,w=Ce(t,za),E=Ve(),I=Xe(),{needClip:f}=Ye(P,x),A=ge(),{points:b,isRange:j,baseLine:g}=(e=me(L=>$a(L,a.id,A)))!==null&&e!==void 0?e:{},O=He();if(E!=="horizontal"&&E!=="vertical"||O==null||I!=="AreaChart"&&I!=="ComposedChart")return null;var{height:S,width:C,x:N,y:k}=O;return!b||!b.length?null:o.createElement(at,W({},w,{activeDot:r,animationBegin:n,animationDuration:s,animationEasing:c,baseLine:g,connectNulls:l,dot:u,fill:d,fillOpacity:p,height:S,hide:m,layout:E,isAnimationActive:y==="auto"?!na.isSsr:y,isRange:j,legendType:v,needClip:f,points:b,stroke:h,width:C,left:N,top:k,xAxisId:P,yAxisId:x}))}var rt=(a,e,t,r,n)=>{var s=t??e;if(D(s))return s;var c=a==="horizontal"?n:r,l=c.scale.domain();if(c.type==="number"){var u=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return s==="dataMin"?d:s==="dataMax"||u<0?u:Math.max(Math.min(l[0],l[1]),0)}return s==="dataMin"?l[0]:s==="dataMax"?l[1]:l[0]};function nt(a){var{areaSettings:{connectNulls:e,baseValue:t,dataKey:r},stackedData:n,layout:s,chartBaseValue:c,xAxis:l,yAxis:u,displayedData:d,dataStartIndex:p,xAxisTicks:m,yAxisTicks:y,bandSize:v}=a,h=n&&n.length,P=rt(s,c,t,l,u),x=s==="horizontal",w=!1,E=d.map((f,A)=>{var b,j,g,O;if(h)O=n[p+A];else{var S=te(f,r);Array.isArray(S)?(O=S,w=!0):O=[P,S]}var C=(b=(j=O)===null||j===void 0?void 0:j[1])!==null&&b!==void 0?b:null,N=C==null||h&&!e&&te(f,r)==null;if(x){var k;return{x:re({axis:l,ticks:m,bandSize:v,entry:f,index:A}),y:N?null:(k=u.scale.map(C))!==null&&k!==void 0?k:null,value:O,payload:f}}return{x:N?null:(g=l.scale.map(C))!==null&&g!==void 0?g:null,y:re({axis:u,ticks:y,bandSize:v,entry:f,index:A}),value:O,payload:f}}),I;return h||w?I=E.map(f=>{var A,b=Array.isArray(f.value)?f.value[0]:null;if(x){var j;return{x:f.x,y:b!=null&&f.y!=null&&(j=u.scale.map(b))!==null&&j!==void 0?j:null,payload:f.payload}}return{x:b!=null&&(A=l.scale.map(b))!==null&&A!==void 0?A:null,y:f.y,payload:f.payload}}):I=x?u.scale.map(P):l.scale.map(P),{points:E,baseLine:I??0,isRange:w}}function it(a){var e=be(a,ke),t=ge();return o.createElement(Me,{id:e.id,type:"area"},r=>o.createElement(o.Fragment,null,o.createElement(ze,{legendPayload:Va(e)}),o.createElement(Xa,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),o.createElement(Ge,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:Ue(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:t,connectNulls:e.connectNulls}),o.createElement(tt,W({},e,{id:r}))))}var X=o.memo(it,$e);X.displayName="Area";var lt=["axis"],st=o.forwardRef((a,e)=>o.createElement(ia,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lt,tooltipPayloadSearcher:la,categoricalChartProps:a,ref:e}));const ct=()=>{const[a,e]=o.useState(null),[t,r]=o.useState([]),[n,s]=o.useState(!0),[c,l]=o.useState(0);o.useEffect(()=>{(async()=>{s(!0);try{const[p,m]=await Promise.all([ie.getKpis(),ie.getTrends()]);e(p?.data||null),r(Array.isArray(m?.data)?m.data:[])}catch(p){console.error("Error fetching dashboard data:",p),r([])}finally{s(!1)}})()},[c]);const u=[{label:"Daily Active Users",value:a?.users?.dau||0,total:a?.users?.total||0,icon:sa,color:"blue",trend:"+12%",trendUp:!0},{label:"Grocery Conversion",value:a?.activity?.groceryConversion||"0%",sub:"Total items bought",icon:oa,color:"emerald",trend:"+5.4%",trendUp:!0},{label:"Monthly API Cost",value:a?.finances?.estimatedApiCost||"$0.00",sub:`${a?.finances?.billableCalls||0} billable calls`,icon:ca,color:"amber",trend:"-2.1%",trendUp:!1},{label:"Inventory Waste",value:a?.health?.inventoryWaste||"0%",sub:"Items expired",icon:da,color:"red",trend:"-8%",trendUp:!1}];return n&&!a?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full min-h-[400px]",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),i.jsx("p",{className:"mt-4 text-gray-500 font-medium italic",children:"Loading Command Center..."})]}):i.jsxs("div",{className:"space-y-8 pb-10",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:"Executive Dashboard"}),i.jsx("p",{className:"text-gray-500 mt-1 font-medium",children:"Real-time platform KPIs and system health metrics"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:()=>l(d=>d+1),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-xl hover:bg-gray-50 transition-all font-semibold text-gray-700 shadow-sm",children:[i.jsx(ua,{className:`w-4 h-4 ${n?"animate-spin":""}`}),"Refresh Data"]}),i.jsx("div",{className:"h-10 w-px bg-gray-200 hidden md:block"}),i.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-gray-400 bg-gray-100 px-3 py-2 rounded-xl",children:[i.jsx(pa,{className:"w-4 h-4"}),"Last Sync: ",new Date().toLocaleTimeString()]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.isArray(u)&&u.map((d,p)=>i.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100 relative overflow-hidden group hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("div",{className:`p-3 bg-${d.color}-50 text-${d.color}-600 rounded-2xl`,children:i.jsx(d.icon,{className:"w-6 h-6"})}),i.jsxs("div",{className:`flex items-center gap-1 text-xs font-bold ${d.trendUp?"text-green-600 bg-green-50":"text-red-600 bg-red-50"} px-2 py-1 rounded-full`,children:[d.trendUp?i.jsx(ne,{className:"w-3 h-3"}):i.jsx(ma,{className:"w-3 h-3"}),d.trend]})]}),i.jsx("h3",{className:"text-3xl font-black text-gray-900",children:d.value}),i.jsx("p",{className:"text-sm font-bold text-gray-400 mt-1 uppercase tracking-wider",children:d.label}),d.total>0&&i.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 bg-gray-100 h-1.5 rounded-full overflow-hidden",children:i.jsx("div",{className:`bg-${d.color}-500 h-full`,style:{width:`${d.value/d.total*100}%`}})}),i.jsxs("span",{className:"text-[10px] font-bold text-gray-400",children:["Total: ",d.total]})]}),d.sub&&i.jsx("p",{className:"text-xs text-gray-400 mt-4 font-medium italic",children:d.sub})]},p))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-3xl shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[i.jsx(fa,{className:"w-6 h-6 text-primary"}),"Growth & Activity"]}),i.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"New users vs. platform engagement"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-primary/10 text-primary text-xs font-bold rounded-lg",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),"Activity"]}),i.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-blue-100 text-blue-600 text-xs font-bold rounded-lg",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"New Users"]})]})]}),i.jsx("div",{className:"h-[300px] w-full",children:i.jsx(va,{width:"100%",height:"100%",children:i.jsxs(st,{data:t,children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"colorActivity",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#41c98c",stopOpacity:.1}),i.jsx("stop",{offset:"95%",stopColor:"#41c98c",stopOpacity:0})]}),i.jsxs("linearGradient",{id:"colorUsers",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.1}),i.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})]}),i.jsx(ha,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),i.jsx(ya,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12,fontWeight:600}}),i.jsx(xa,{hide:!0}),i.jsx(ba,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"},cursor:{stroke:"#f1f5f9",strokeWidth:2}}),i.jsx(X,{type:"monotone",dataKey:"activity",stroke:"#41c98c",strokeWidth:3,fillOpacity:1,fill:"url(#colorActivity)"}),i.jsx(X,{type:"monotone",dataKey:"newUsers",stroke:"#3b82f6",strokeWidth:3,fillOpacity:1,fill:"url(#colorUsers)"})]})})})]}),i.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-gray-100 flex flex-col",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Efficiency Scoring"}),i.jsx("p",{className:"text-sm text-gray-400 font-medium mb-8",children:"Platform-wide optimization metrics"}),i.jsxs("div",{className:"space-y-6 flex-1",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[i.jsx("span",{className:"text-gray-500",children:"Meal Plan Conversion"}),i.jsx("span",{className:"text-primary",children:a?.activity?.groceryConversion})]}),i.jsx("div",{className:"w-full h-3 bg-gray-50 rounded-full overflow-hidden p-0.5 border border-gray-100",children:i.jsx("div",{className:"h-full bg-primary rounded-full",style:{width:a?.activity?.groceryConversion}})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[i.jsx("span",{className:"text-gray-500",children:"Notification Open Rate"}),i.jsx("span",{className:"text-blue-600",children:a?.health?.notificationOpenRate})]}),i.jsx("div",{className:"w-full h-3 bg-gray-50 rounded-full overflow-hidden p-0.5 border border-gray-100",children:i.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:a?.health?.notificationOpenRate}})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[i.jsx("span",{className:"text-gray-500",children:"Avg. Inventory Health"}),i.jsx("span",{className:"text-emerald-600",children:"84%"})]}),i.jsx("div",{className:"w-full h-3 bg-gray-50 rounded-full overflow-hidden p-0.5 border border-gray-100",children:i.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:"84%"}})})]})]}),i.jsx("div",{className:"mt-8 pt-6 border-t border-gray-100",children:i.jsxs("button",{className:"w-full py-4 bg-gray-900 text-white rounded-2xl font-bold hover:bg-black transition-colors flex items-center justify-center gap-2 group",children:["Generate Full Audit Report",i.jsx(ne,{className:"w-4 h-4 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]})})]})]})]})};export{ct as default};
